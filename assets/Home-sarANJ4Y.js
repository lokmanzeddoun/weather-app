const __vite__fileDeps=["assets/Today-BcTyEoym.js","assets/index-B9M5Bo5z.js","assets/index-BouBtN3F.css","assets/DatetimeUtils-D1q5BwqE.js","assets/DateConstants-BFu9U4o-.js","assets/Weekly-5b2lc2lA.js","assets/Details-QENDh_SU.js"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
import{u as m,r as i,_ as c,a as u,j as e,i as n}from"./index-B9M5Bo5z.js";const x="https://api.openweathermap.org/data/2.5",h="77d9aad658fa69646c9cc580d9983a08";async function p({queryKey:t}){const o=t[0],s=t[1];console.log(o,s);try{let[a,r]=await Promise.all([fetch(`${x}/weather?lat=${o}&lon=${s}&appid=${h}&units=metric`),fetch(`${x}/forecast?lat=${o}&lon=${s}&appid=${h}&units=metric`)]);const l=await a.json(),d=await r.json();return console.log([l,d]),[l,d]}catch(a){console.log(a)}}function j(t,o){const s=m({queryKey:[t,o],queryFn:p});return[(s==null?void 0:s.data)??[],s.status]}const f=i.lazy(()=>c(()=>import("./Today-BcTyEoym.js"),__vite__mapDeps([0,1,2,3,4]))),_=i.lazy(()=>c(()=>import("./Weekly-5b2lc2lA.js"),__vite__mapDeps([5,1,2,4,3]))),g=i.lazy(()=>c(()=>import("./Details-QENDh_SU.js"),__vite__mapDeps([6,1,2,4]))),w=[{text:"Temperature",logo:n.temperatureLogo},{text:"Wind",logo:n.windLogo},{text:"Precipitation",logo:n.precipitationLogo},{text:"Humidity",logo:n.humidityLogo}],E=()=>{const{result:t}=u(),o=t==null?void 0:t.latitude,s=t==null?void 0:t.longitude,[a,r]=j(o,s);return r==="loading"?e.jsx("div",{children:"Loading..."}):r==="error"||!a?e.jsx("div",{children:"Error loading weather data"}):e.jsx("div",{className:"border-box",children:t?e.jsxs("div",{children:[e.jsx(i.Suspense,{fallback:e.jsx("div",{className:"flex items-center justify-center p-4",children:e.jsx("h2",{className:"animate-spin text-8xl",children:"ðŸŒ€"})}),children:a[0]&&e.jsx(f,{weather:a[0]})}),e.jsx(i.Suspense,{fallback:e.jsx("div",{className:"flex items-center justify-center p-4",children:e.jsx("h2",{className:"animate-spin text-8xl",children:"ðŸŒ€"})}),children:a[1]&&e.jsx(g,{weather:a[1],items:w})}),e.jsx(i.Suspense,{fallback:e.jsx("div",{className:"flex items-center justify-center p-4",children:e.jsx("h2",{className:"animate-spin text-8xl",children:"ðŸŒ€"})}),children:a[1]&&e.jsx(_,{weather:a[1]})})]}):e.jsx("div",{})})};export{E as default};
